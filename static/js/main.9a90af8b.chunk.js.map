{"version":3,"sources":["services/api.js","pages/feed.js","pages/new.js","route.js","components/header/index.js","App.js","index.js","assets/images/more.svg","assets/images/like.svg","assets/images/comment.svg","assets/images/send.svg","assets/images/logo.svg","assets/images/camera.svg"],"names":["api","axios","create","baseURL","pages","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","registerToSocket","socket","io","on","newPost","setState","feed","concat","toConsumableArray","state","likedPost","map","post","_id","handleLike","id","console","log","defaults","get","response","data","_this2","react_default","a","createElement","key","className","author","place","src","more","alt","image","type","onClick","like","comment","send","likes","description","hashtags","Component","New","handleSubmit","e","preventDefault","FormData","append","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","stop","history","push","handleImage","target","files","handleChange","defineProperty","name","value","onSubmit","onChange","placeholder","Routes","react_router","path","exact","component","Feed","Header","react_router_dom","to","logo","camera","App","ReactDOM","render","src_App","document","getElementById","module","exports","__webpack_require__","p"],"mappings":"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","file":"static/js/main.9a90af8b.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst api = axios.create({\n    baseURL: 'hhttp://5180e0d4.ngrok.io',\n});\n\nexport default api;","import React, { Component } from 'react';\nimport io from 'socket.io-client';\n\n// Services imports\nimport api from '../services/api';\n\n// CSS Imports\nimport '../assets/css/feed.css';\n\n// Imagens Impors\nimport more from '../assets/images/more.svg';\nimport like from '../assets/images/like.svg';\nimport comment from '../assets/images/comment.svg';\nimport send from '../assets/images/send.svg';\n\nexport default class pages extends Component {\n\n    constructor(props){\n        super(props);\n        this.state = {\n            feed: []\n        }\n    }\n\n    async componentDidMount() {\n        this.registerToSocket();\n        console.log(api.defaults.baseURL);\n        const response = await api.get('posts/list');\n\n        this.setState({feed: response.data});\n    }\n\n    registerToSocket = () => {\n        const socket = io('http://localhost:3333');\n\n        // mensagens retornadas [posts,likes]\n        socket.on('post', newPost => {\n            this.setState({ feed: [newPost, ...this.state.feed ]});\n        });\n\n        socket.on('like', likedPost => {\n            this.setState({\n                feed: this.state.feed.map(post => \n                    post._id === likedPost? likedPost: post)\n            });\n        });\n    }\n\n    handleLike = id => {\n        api.post(`posts/${id}/like`);\n    }\n\n    render() {\n        return (\n            <section id=\"post-list\">\n                {this.state.feed.map(post =>(\n                    \n                        <article key={ post._id }>\n                            <header>\n                                <div className=\"user-info\">\n                                    <span> { post.author } </span>\n                                    <span className=\"place\"> { post.place } </span>\n                                </div>\n                                \n                                <img src={ more } alt=\"Mais\" />\n                            </header>\n                            \n                            <img src={`http://localhost:3333/files/${post.image}`} alt=\"\"/>\n\n                            <footer>\n                                <div className=\"actions\">\n                                    <button type=\"button\" onClick={ () => this.handleLike(post._id) }>\n                                        <img src={like} alt=\"\"/>\n                                    </button>\n                                    <img src={comment} alt=\"\"/>\n                                    <img src={send} alt=\"\"/>\n                                </div>\n\n                                <strong> { post.likes } curtidas</strong>\n\n                                <p> \n                                    { post.description }\n                                    <span> { post.hashtags } </span>\n                                </p>\n                            </footer>\n                        </article>\n\n                ))}\n            </section>\n        );\n    }\n}\n","import React, { Component } from 'react';\n\n// Service Imports\nimport api from '../services/api';\n\n// CSS Imports\nimport '../assets/css/new.css';\n\nexport default class New extends Component {\n  state = {\n    image: null,\n    author: '',\n    place: '',\n    description: '',\n    hashtags: ''\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    const data = new FormData();\n    data.append('image',this.state.image);\n    data.append('author',this.state.author);\n    data.append('place',this.state.place);\n    data.append('description',this.state.description);\n    data.append('hashtags',this.state.hashtags);\n\n    (async () => {\n      await api.post('posts/create',data);\n    })();\n    \n    \n\n    this.props.history.push('/');\n  }\n\n  handleImage = e => {\n    this.setState({ image: e.target.files[0] });\n  }\n\n  handleChange = e => {\n    this.setState({ [e.target.name]:e.target.value });\n  }\n\n  render() {\n    return (\n        <form id=\"new-post\" onSubmit={ this.handleSubmit }>\n          <input type=\"file\" onChange={ this.handleImage }/>\n\n          <input type=\"text\" name=\"author\" \n            placeholder='Autor do Post' \n            onChange={ this.handleChange} \n            value={ this.state.author }/>\n\n          <input type=\"text\" name=\"place\" \n            placeholder='place do Post' \n            onChange={ this.handleChange} \n            value={ this.state.place }/>\n\n          <input type=\"text\" name=\"description\" \n            placeholder='description do Post' \n            onChange={ this.handleChange} \n            value={ this.state.description }/>\n\n          <input type=\"text\" name=\"hashtags\" \n            placeholder='hashtags do Post' \n            onChange={ this.handleChange} \n            value={ this.state.hashtags }/>\n          \n          <button type=\"submit\">Enviar</button>\n        </form>\n    );\n  }\n}\n","import React from 'react'\nimport { Switch, Route } from 'react-router-dom';\n\n// Components Imports\nimport Feed from './pages/feed';\nimport New from './pages/new';\n\nexport default function Routes() {\n    return (\n        <Switch>\n            <Route path='/' exact component={Feed} />\n            <Route path='/new' exact component={New} />\n        </Switch>\n    );\n}","import React from 'react';\nimport  { Link } from 'react-router-dom';\n\n// CSS Imports\nimport './index.css'\n\n// Images Import\nimport logo from '../../assets/images/logo.svg';\nimport camera from '../../assets/images/camera.svg'\n\nexport default function Header() {\n  return (\n    <header id='main-header'>\n        <div className=\"header-content\">\n            <Link to='/'>\n                <img src={logo} alt=\"InstaRocket\" />\n            </Link>\n            <Link to='/new'>\n                <img src={camera} alt=\"Enviar Publicação\"/>\n            </Link>\n        </div>\n    </header>\n  );\n}\n","import React from 'react';\nimport Routes from './route';\nimport { BrowserRouter } from 'react-router-dom';\n\n// Components Import\nimport Header from './components/header';\n\nfunction App() {\n  return (\n    <BrowserRouter>\n      <Header />\n      <Routes />\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n// CSS Imports\nimport './assets/css/global.css'\n\nReactDOM.render(<App />, document.getElementById('root'));\n","module.exports = __webpack_public_path__ + \"static/media/more.22d960a9.svg\";","module.exports = __webpack_public_path__ + \"static/media/like.00e13584.svg\";","module.exports = __webpack_public_path__ + \"static/media/comment.e2a49935.svg\";","module.exports = __webpack_public_path__ + \"static/media/send.55e74cfd.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo.83fd0bcc.svg\";","module.exports = __webpack_public_path__ + \"static/media/camera.787c6af9.svg\";"],"sourceRoot":""}